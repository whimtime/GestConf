<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	
	>

<ui:composition template="/templates/login.xhtml">
	
	<ui:define name="content">
	
	<p:panel>  
		
	<h2>Benvenuto</h2>
		Accedi o Crea Un Nuovo Account
	</p:panel>
	<p:layout style="min-width:400px;min-height:400px;" id="layout">  
    <p:layoutUnit position="west" resizable="true" size="400" minSize="400" maxSize="400">  
       <h:form id="form">
	    <p:panel header="Se sei giÃ  iscritto">
        <h:panelGrid columns="3" >
	
	    <h:outputLabel>Username</h:outputLabel>
	    <p:inputText id="user" value="#{sessioneBean.username}" required="true"></p:inputText>
	      <p:message for="user" display="icon" />  
	
	    <h:outputLabel>Password</h:outputLabel>
	     <p:password id="feedback" value="#{sessioneBean.password}" required="true"/>
  		<p:message for="feedback" display="icon" />  
	    
	    <p:commandButton value="Accedi" action="#{sessioneBean.entra}" 
                    ajax="false" />
                        <p:messages id="messages" showDetail="true" autoUpdate="true" closable="true" globalOnly="true" /> 
	</h:panelGrid>
	</p:panel>
	</h:form>
    </p:layoutUnit>  
  
    <p:layoutUnit position="center">  
          <h:form id="formNuovo">
	    <p:panel header="Se Non sei iscritto">
        <h:panelGrid columns="3">

	<h:outputLabel>Nome</h:outputLabel>
	    <p:inputText id="userNome" value="#{sessioneBean.beanpersona.nome}" required="true"></p:inputText>
	      <p:message for="userNome" display="icon" />  
	      <h:outputLabel>Cognome</h:outputLabel>
	    <p:inputText id="userCognome" value="#{sessioneBean.beanpersona.cognome}" required="true"></p:inputText>
	      <p:message for="userCognome" display="icon" />  
	      
	    <h:outputLabel>Username</h:outputLabel>
	    <p:inputText id="userN" value="#{sessioneBean.username}" required="true"></p:inputText>
	      <p:message for="userN" display="icon" />  
	
	    <h:outputLabel>Password</h:outputLabel>
	     <p:password id="feedbackN" value="#{sessioneBean.password}"  feedback="true" required="true"/>
  		<p:message for="feedbackN" display="icon" />  
  		<h:outputLabel>Ripeti Password</h:outputLabel>
	     <p:password id="feedbackRN"  feedback="true" required="true"/>
  		<p:message for="feedbackRN" display="icon" /> 
  		<h:outputLabel>Mail</h:outputLabel>
  		<p:inputText id="mailN" value="#{sessioneBean.beancontatto.nomecontatto}" required="true"></p:inputText>
	      <p:message for="mailN" display="icon" />  
	      	 Data nascita<p:calendar id="datanascitainput" value="#{sessioneBean.beanpersona.datanascita}"  />
			<p:message for="datanascitainput" display="icon" />                
	    	<h:outputLabel>CodiceFiscale</h:outputLabel>
  		<p:inputText id="codfisc" value="#{sessioneBean.beanpersona.codicefiscale}"  required="true"></p:inputText>
  		<p:message for="codfisc" display="icon" />  
  			<h:outputLabel>P.iva</h:outputLabel>
  		<p:inputText id="piva" value="#{sessioneBean.beanpersona.partitaiva}" required="false"></p:inputText>
  		<p:message for="piva" display="icon" />  
  			 Comune 
        	 <p:selectOneMenu id="dropcomuni" value="#{sessioneBean.beanpersona.cdcomunenascita}" effect="fade"   filter="true" filterMatchMode="startsWith">  	          
	            <f:selectItems value="#{geografiaBean.comuni}" var ="r" itemValue="#{r.cdComune}" itemLabel="#{r.denominazioneComune}" />  
        </p:selectOneMenu>   	     
  		 <p:message for="dropcomuni" display="icon" />
	    <p:commandButton value="Accedi Alla prossima fase" action="#{sessioneBean.nuovoutente}" 
                    ajax="false" />
                        <p:messages id="messages2" showDetail="true" autoUpdate="true" closable="true" globalOnly="true" /> 
	</h:panelGrid>
	</p:panel>
	</h:form>
    </p:layoutUnit>  
</p:layout>  
	
	
	
	</ui:define>
	
</ui:composition>
</html>